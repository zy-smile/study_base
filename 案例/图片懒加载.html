<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			.img_box {
				position: relative;
				width: 500px;
				height: 500px;
				border: 1px solid #333;
				overflow: hidden scroll;
			}
			.img_list_item {
				width: 200px;
				height: 200px;
				background-color: #f8f8f8;
				margin-bottom: 12px;
			}
			.img_list_item img {
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div class="img_box">
			<div class="img_list">
				<div
					class="img_list_item"
					data-src="https://ts3.cn.mm.bing.net/th?id=OIP-C.g9UbVfyVZX-SfD09JcYr5QHaEK&w=333&h=187&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts3.cn.mm.bing.net/th?id=OIP-C.a5B0-u1trioEV-aQwqo6AwHaE8&w=306&h=204&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts3.cn.mm.bing.net/th?id=OIP-C.IXche7_sgil0HErT6PrSLwHaEo&w=316&h=197&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts1.cn.mm.bing.net/th?id=OIP-C.r6NwGCf8QT_F-B3684ka3wHaEo&w=316&h=197&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts1.cn.mm.bing.net/th?id=OIP-C.YKoZzgmubNBxQ8j-mmoTKAHaEK&w=333&h=187&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts4.cn.mm.bing.net/th?id=OIP-C.BlVRHQ_YqbZeRPfXCZOOpgHaHa&w=250&h=250&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts2.cn.mm.bing.net/th?id=OIP-C.7sAjIeoQYWnXV_QnuYs1jQHaEK&w=333&h=187&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts1.cn.mm.bing.net/th?id=OIP-C.dIFgv5Jaess7oclRS7xg2wHaE8&w=306&h=204&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts3.cn.mm.bing.net/th?id=OIP-C.DOOxGtkUiW8QevWtAxsRtAHaEK&w=333&h=187&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
				<div
					class="img_list_item"
					data-src="https://ts3.cn.mm.bing.net/th?id=OIP-C.DOOxGtkUiW8QevWtAxsRtAHaEK&w=333&h=187&c=8&rs=1&qlt=90&o=6&dpr=2&pid=3.1&rm=2">
					<img src="" alt="" />
				</div>
			</div>
		</div>
		<script>
			let container = document.querySelector(".img_box")
			let list = document.querySelector(".img_list")
			let imgList = document.querySelectorAll(".img_list_item")
			setImgUrl(0)
			container.addEventListener("scroll", (e) => {
				let scrollTop = e.target.scrollTop
				setImgUrl(scrollTop)
			})
			function setImgUrl(num) {
				imgList.forEach((item) => {
					let imgTop = item.offsetTop
					let imgHeight = item.offsetHeight
					let imgSrc = item.getAttribute("data-src")
					if (
						imgTop <= num + container.offsetHeight &&
						imgTop + imgHeight > num
					) {
						item.querySelector("img").src = imgSrc
					}
				})
			}
		</script>
	</body>
</html>
